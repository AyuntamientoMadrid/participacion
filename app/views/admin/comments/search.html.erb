<h2><%= t("admin.comments.search.title") %></h2>

<!-- Search comments -->
<%= form_for(Comment.new, url: search_admin_comments_path, method: :get) do |f| %>
  <div class="row">
    <div class="small-12 medium-6 column">
      <%= text_field_tag :term,  params[:term], placeholder: t("admin.comments.index.search_placeholder") %>
    </div>
    <div class="form-inline small-12 medium-6 column">
      <%= f.submit t("admin.comments.index.search"), class: "button radius success" %>
    </div>
  </div>
<% end %>
<!-- /. Search comments -->

<h3><%= page_entries_info @comments %></h3>

<table id="search-results">
  <% @comments.each do |comment| %>
  <tr>
    <td>
      <%= text_with_links comment.body %><br>
        <% if comment.commentable.hidden? %>
            (<%= t("admin.comments.index.hidden_#{comment.commentable_type.downcase}") %>: <%= comment.commentable.title %>)
        <% else %>
            <%= link_to comment.commentable.title, comment.commentable %>
        <% end %>
    </td>
    <td>
      <%= link_to t("admin.actions.restore"),
        restore_admin_comment_path(comment, request.query_parameters),
        method: :put,
        data: { confirm: t("admin.actions.confirm") },
        class: "button radius tiny success right" %>
      <% unless comment.confirmed_hide? %>
        <%= link_to t("admin.actions.confirm_hide"),
        confirm_hide_admin_comment_path(comment, request.query_parameters),
        method: :put,
        class: "button radius tiny warning right" %>
      <% end %>
    </td> 
  </tr>
<% end %>
</table>

<%= paginate @comments %>